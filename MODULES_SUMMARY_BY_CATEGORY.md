# 📊 系统模块分类总结

## 目录
- [一、News（新闻与情报）](#一news新闻与情报)
  - [1. 全网热点发现引擎](#1-全网热点发现引擎-)
  - [2. 微博情绪分析](#2-微博情绪分析-)
  - [3. 政客交易追踪](#3-政客交易追踪-)
- [二、股票推荐](#二股票推荐)
  - [1. 黄金股票筛选器](#1-黄金股票筛选器-)
  - [2. AI量化选股器](#2-ai量化选股器-)
- [三、自动化系统](#三自动化系统)
  - [每日自动推送系统](#每日自动推送系统-)

---

## 一、News（新闻与情报）

### 1. 全网热点发现引擎 🔍

#### 📁 核心文件
- `Discovery_Engine.py`
- `test_discovery_engine.py`
- `DISCOVERY_ENGINE_GUIDE.md`

#### 🎯 功能定位
**市场情报雷达** - 自动发现小红书和微博上异常升温的投资板块，捕捉市场热点变化。

#### 🔄 工作流程

**Step 1: 多源探测**
- 小红书财经频道推荐流（50条）
- 微博财经热搜榜（TOP 50）
- 股票超话讨论

**Step 2: 关键词提取**
- 监控49个行业关键词
- 基础板块：新能源、芯片、医药、军工等
- 新兴板块：脑机接口、卫星互联网、肥料等

**Step 3: 对比分析**
- 今日词频 vs 昨日词频
- 计算增长率
- 识别异常升温（增长率>200%）

**Step 4: AI智能识别**
- DeepSeek分析TOP 10热词
- 筛选出3个最值得关注的板块
- 给出投资建议和风险提示

#### 📈 输出示例

```markdown
# 🔍 全网雷达：你可能错过的热门机会

## 🔥 异常升温板块 TOP 3

### 1. 脑机接口板块 🧠
- 热度变化: 今日50次 vs 昨日5次 (+900%)
- 升温原因: 马斯克Neuralink人体试验突破
- 相关股票: 创新医疗、世纪华通、三博脑科
- 投资建议: 短期炒作为主，轻仓参与

### 2. 卫星互联网板块 🛰️
- 热度变化: 今日35次 vs 昨日8次 (+337%)
- 升温原因: 国家发改委发布建设规划
- 相关股票: 中国卫星、航天电子、华力创通
- 投资建议: 政策驱动明确，可中长期关注

### 3. 肥料板块 🌾
- 热度变化: 今日28次 vs 昨日6次 (+366%)
- 升温原因: 春耕临近，化肥价格上涨
- 相关股票: 云天化、新洋丰、史丹利
- 投资建议: 季节性机会，短期波段操作
```

#### ⏱️ 性能指标
- **运行时间**: 10-15分钟
- **数据来源**: 小红书 + 微博
- **需要浏览器**: ✅ 是（需要扫码登录）
- **AI分析**: DeepSeek

#### 💡 核心价值
- ✅ 发现非预设的新兴板块
- ✅ 提前捕捉市场热点
- ✅ 避免错过投资机会
- ✅ 基于真实社交媒体数据

---

### 2. 微博情绪分析 📱

#### 📁 核心文件
- `weibo_sentiment_weighted.py`（加权版）
- `weibo_gold_sentiment.py`（基础版）
- `test_weighted_sentiment.py`
- `WEIGHTED_SENTIMENT_GUIDE.md`

#### 🎯 功能定位
**市场情绪温度计** - 通过分析微博上关于"黄金"的讨论，量化市场情绪，识别投资机会和风险。

#### 🔄 工作流程

**Step 1: 数据抓取**
- 使用Playwright抓取微博搜索"黄金"
- 获取博主昵称、粉丝数、微博内容
- 支持扫码登录（headless=False）

**Step 2: 数据清洗**
- 过滤广告：抽奖、转运珠、代购
- 去重：相同内容只保留一条
- 长度过滤：内容>10字

**Step 3: 影响力加权**
```
100万+粉丝 → 权重×10
10万+粉丝  → 权重×3
其他       → 权重×1
```

**Step 4: 关键词加成**
- 检测：涨停、重组、入股、利好等
- 加成：给予20%情绪加成

**Step 5: DeepSeek AI分析**
- 情绪量化：0-100分
- 提取3个风险点
- 提取3个机会点

#### 📈 输出示例

```markdown
# 📱 微博黄金情绪分析

## 📊 情绪指数: 72/100
**情绪判断**: 偏乐观

## 🔥 高影响力博主 TOP 5
1. 财经大V张三 (200万粉丝) - 权重×10
2. 黄金分析师李四 (80万粉丝) - 权重×3
3. 投资顾问王五 (50万粉丝) - 权重×3

## ⚠️ 3个风险点
1. 美联储加息预期升温
2. 美元指数走强
3. 技术面短期超买

## 💡 3个机会点
1. 地缘政治不确定性增加
2. 央行持续购金
3. 通胀预期回升

## 📊 影响力分布
- 百万粉丝: 3位 (权重×10)
- 十万粉丝: 12位 (权重×3)
- 其他: 23位 (权重×1)
```

#### ⏱️ 性能指标
- **运行时间**: 5-10分钟
- **数据来源**: 微博
- **需要浏览器**: ✅ 是（需要扫码登录）
- **AI分析**: DeepSeek

#### 💡 核心价值
- ✅ 量化市场情绪（0-100分）
- ✅ 博主影响力加权（更准确）
- ✅ 识别风险和机会
- ✅ 辅助投资决策

---

### 3. 政客交易追踪 🏛️

#### 📁 核心文件
- `politician_trade_tracker.py`
- `test_politician_tracker.py`
- `run_with_politician_tracker.py`
- `POLITICIAN_TRACKER_GUIDE.md`

#### 🎯 功能定位
**权力资金雷达** - 追踪美国国会议员的股票交易，识别高置信度投资信号，发现政策动向。

#### 🔄 工作流程

**Step 1: 数据获取**
- Quiver Quantitative API（付费）
- Unusual Whales网站爬取（免费）
- 获取：议员姓名、股票代码、交易类型、金额、日期

**Step 2: 置信度分析**
```
评分维度:
- 委员会成员: +30分（如能源委员会买能源股）
- 大额交易(>$500K): +40分
- 买入信号: +20分
- 新鲜披露(≤3天): +10分

高置信度阈值: ≥70分
```

**Step 3: 逻辑关联**
- 委员会与行业匹配
- Energy委员会 → 能源股
- Technology委员会 → 科技股
- Finance委员会 → 金融股

**Step 4: 实时表现匹配**
- 获取股票当前价格、涨跌幅
- 对比披露后表现

**Step 5: Twitter讨论分析**
- 抓取相关推文
- DeepSeek过滤有价值内容
- 排除口水话（"啊"、"买买买"、"to the moon"）

#### 📈 输出示例

```markdown
# 🏛️ 权力资金动态

## 📊 本期概览
- 监控交易数: 15笔
- 高置信度信号: 3个
- 涉及议员: 8位

## 🔥 高置信度信号

### 1. NVDA - Nancy Pelosi

**交易信息**:
- 议员: Nancy Pelosi
- 股票代码: NVDA
- 交易类型: 🟢 买入
- 交易金额: $500,001 - $1,000,000
- 披露时间: 3天前

**置信度分析**:
- 置信度评分: 85/100
- 信号强度: 🔥🔥🔥 极强
- 关键因素: Technology委员会成员, 大额交易, 买入信号, 新鲜披露

**实时表现**:
- 当前价格: $450.25
- 涨跌幅: +2.5%
- 成交量: 15.2M

**社交媒体热度**:
- 相关推文: 156条
- 有价值内容: 12条

**关键话题**:
- NVDA新数据中心订单激增，AI芯片需求强劲
- 英伟达获得政府项目拨款，用于AI基础设施建设
- 国会通过AI法案，NVDA将受益于政策支持

**AI分析建议**:
- 🎯 **强烈关注**: 委员会成员大额买入，建议深入研究
```

#### ⏱️ 性能指标
- **运行时间**: 3-5分钟
- **数据来源**: Quiver / Unusual Whales / Twitter
- **需要浏览器**: ⚠️ 可选（API方式不需要）
- **AI分析**: DeepSeek

#### 💡 核心价值
- ✅ 提前了解政策动向
- ✅ 发现高置信度信号
- ✅ 委员会背景关联分析
- ✅ 过滤Twitter有价值讨论

#### ⚠️ 重要提示
- 披露有45天延迟
- 仅供参考，不构成投资建议
- 注意法律合规风险

---

## 二、股票推荐

### 1. 黄金股票筛选器 🏆

#### 📁 核心文件
- `gold_stock_screener.py`
- `README.md`（包含说明）

#### 🎯 功能定位
**价值股票发现器** - 从全A股中筛选出符合特定条件的黄金概念股，识别具有投资价值的标的。

#### 🔄 筛选标准

**硬性指标**:
- 总股本: 8亿 ≤ 总股本 ≤ 15亿股
- 流通市值: 105亿 ≤ 流通市值 ≤ 195亿元
- 行业关键词: 黄金、矿产、贵金属

**软性指标**:
- 官方背书: 社保基金、国资委、汇金、证金
- 市值匹配度: 越接近150亿越好

#### 🏆 评分系统（总分100分）

```
股本匹配: 25分
├─ 8-12亿股: 25分
└─ 12-15亿股: 20分

官方背书: 30分
└─ 包含官方资本: 30分

市值匹配: 20分
└─ 越接近150亿分数越高

行业匹配: 25分
└─ 黄金行业相关度
```

#### 📈 输出示例

```
黄金股票筛选 TOP 5

排名  股票名称    股票代码  综合评分  流通市值  官方背书
1    山东黄金    600547    85.0     145.2亿   ✅
2    中金黄金    600489    82.5     138.6亿   ✅
3    赤峰黄金    600988    80.0     152.3亿   ✅
4    紫金矿业    601899    78.5     168.9亿   ✅
5    湖南黄金    002155    76.0     125.4亿   ❌
```

#### ⏱️ 性能指标
- **运行时间**: 2-3分钟
- **数据来源**: AkShare
- **需要浏览器**: ❌ 否
- **AI分析**: ❌ 否

#### 💡 核心价值
- ✅ 精准筛选符合条件的股票
- ✅ 官方背书检测（国家队持仓）
- ✅ 多维度综合评分
- ✅ 数据来源可靠（AkShare官方API）

---

### 2. AI量化选股器 🤖

#### 📁 核心文件
- `Quant_Picker.py`
- `test_quant_picker.py`
- `QUANT_PICKER_GUIDE.md`

#### 🎯 功能定位
**智能选股引擎** - 结合技术指标、舆情热度、AI分析，从全A股中挑选出最具潜力的3只股票。

#### 🔄 四步流程

**Step 1: AkShare指标初选**
```
筛选条件:
- 60亿 < 市值 < 200亿
- 2% < 涨幅 < 6%
- 换手率 > 5%

目的: 筛选中小盘、有热度、有涨幅的股票
```

**Step 2: 舆情碰撞**
```
数据源:
- 微博热点数据
- 小红书热点数据

匹配逻辑:
- 百万粉丝博主提及 → 权重×10
- 包含"重组"、"利好"关键词 → 高优先级

舆情评分 = (基础分50 + 关键词加分) × 影响力权重
归一化到0-100
```

**Step 3: 综合评分**
```
综合得分 = 涨幅×30% + 换手率×20% + 舆情评分×50%

排序: 按综合得分降序，取TOP 10
```

**Step 4: DeepSeek终极筛选**
```
输入: TOP 10股票的[名称、涨跌幅、最新新闻摘要]

Prompt: 你是资深基金经理，从这10只票中选出3只最具潜力的股票
要求: 推荐理由（技术面+舆情面）+ 预测止盈位

输出: TOP 3潜力股 + 推荐理由 + 止盈位
```

#### 📈 输出示例

```markdown
# 🚀 AI潜力股推荐

## 🎯 TOP 3 推荐

### 1. 某某股份 (600XXX)

**技术面**:
- 当前价格: 25.60元
- 涨跌幅: +3.5%
- 换手率: 8.2%
- 市值: 120亿

**舆情面**:
- 舆情评分: 85/100
- 热度来源: 微博财经大V提及
- 关键词: 重组、业绩拐点

**AI推荐理由**:
技术面显示资金持续流入，舆情面显示市场关注度激增，
两者共振，短期有望继续上涨。

**止盈位**: 27.50元 (+7.4%)

**风险提示**: 注意大盘波动影响

---

### 2. 某某科技 (300XXX)
...

### 3. 某某新材 (002XXX)
...
```

#### ⏱️ 性能指标
- **运行时间**: 5-8分钟
- **数据来源**: AkShare + 微博 + 小红书
- **需要浏览器**: ⚠️ 可选（有舆情数据更好）
- **AI分析**: DeepSeek

#### 💡 核心价值
- ✅ 技术面+舆情面结合
- ✅ AI智能筛选TOP 3
- ✅ 给出具体止盈位
- ✅ 多维度综合评分

---

## 三、自动化系统

### 每日自动推送系统 📧

#### 📁 核心文件
- `daily_email_sender.py`（本地完整版）
- `github_daily_sender.py`（GitHub简化版）
- `schedule_daily_report.py`（定时调度）
- `.github/workflows/daily-report.yml`（GitHub Actions）

#### 🎯 功能定位
**自动化中枢** - 每天早上8点自动运行所有分析模块，生成综合简报，并通过邮件推送到指定邮箱。

#### 🔄 完整流程

**Step 1: 运行所有分析模块**
```
本地完整版（5个模块）:
1. 全网热点发现 (10-15分钟)
2. 微博情绪分析 (5-10分钟)
3. 政客交易追踪 (3-5分钟)
4. 黄金股票筛选 (2-3分钟)
5. AI量化选股 (5-8分钟)

总计: 约25-40分钟
```

```
GitHub简化版（3个模块）:
1. 政客交易追踪 (3-5分钟)
2. 黄金股票筛选 (2-3分钟)
3. AI量化选股 (5-8分钟)

总计: 约10-15分钟

不包含: 全网热点、微博情绪（需要浏览器登录）
```

**Step 2: 生成综合简报**

汇总所有模块的结果，生成统一的Markdown格式简报：

```markdown
# 📊 每日投资简报

**生成时间**: 2026年1月15日 08:00:00

---

## 一、News（新闻与情报）

### 1. 全网热点雷达
- 脑机接口板块 (+900%)
- 卫星互联网板块 (+337%)
- 肥料板块 (+366%)

### 2. 微博黄金情绪
- 情绪指数: 72/100 (偏乐观)
- 3个风险点 + 3个机会点

### 3. 权力资金动态
- NVDA - Nancy Pelosi (置信度85分)
- XOM - Joe Manchin (置信度75分)
- CRWD - Mark Warner (置信度70分)

---

## 二、股票推荐

### 1. 黄金股票 TOP 5
1. 山东黄金 (600547) - 85.0分
2. 中金黄金 (600489) - 82.5分
3. 赤峰黄金 (600988) - 80.0分

### 2. AI量化选股 TOP 3
1. 某某股份 (600XXX) - 止盈位27.50元
2. 某某科技 (300XXX) - 止盈位19.80元
3. 某某新材 (002XXX) - 止盈位34.50元

---

## ⚠️ 免责声明
本简报由AI自动生成，仅供参考学习，不构成任何投资建议。
```

**Step 3: 发送邮件**

- **主题**: 📊 每日投资简报 - 2026年01月15日
- **正文**: HTML格式，包含简报概览
- **附件**:
  1. 每日投资简报.md（综合简报）
  2. 全网雷达_YYYYMMDD.md
  3. 微博黄金情绪分析_YYYYMMDD.md
  4. 权力资金动态_YYYYMMDD.md
  5. gold_stocks_analysis_YYYYMMDD.csv
  6. AI潜力股推荐_YYYYMMDD.md

#### 🔧 三种运行方式

**方式1: 本地手动运行**
```bash
# 运行完整版（包含所有模块）
python3 daily_email_sender.py

# 或运行集成版
python3 run_with_politician_tracker.py
```

**方式2: 本地定时运行**
```bash
# 使用schedule库（每天8点运行）
python3 schedule_daily_report.py

# 或使用macOS launchd
launchctl load ~/Library/LaunchAgents/com.stockanalysis.dailyreport.plist
```

**方式3: GitHub Actions自动运行**
- 每天UTC 0:00自动运行（北京时间8:00）
- 完全云端执行，无需本地运行
- 需要配置6个Secrets

#### 📊 运行对比

| 特性 | 本地完整版 | GitHub Actions |
|------|-----------|---------------|
| 全网热点发现 | ✅ | ❌ |
| 微博情绪分析 | ✅ | ❌ |
| 政客交易追踪 | ✅ | ✅ |
| 黄金股票筛选 | ✅ | ✅ |
| AI量化选股 | ✅ | ✅ |
| 需要浏览器 | 是 | 否 |
| 需要本地运行 | 是 | 否 |
| 完全自动化 | 需要开机 | 完全自动 |
| 成本 | 免费 | 免费 |

#### ⏱️ 性能指标
- **本地完整版**: 25-40分钟
- **GitHub Actions**: 10-15分钟
- **邮件大小**: 约1-5MB
- **附件数量**: 3-6个

#### 💡 核心价值
- ✅ 完全自动化，无需人工干预
- ✅ 每天准时推送到邮箱
- ✅ 汇总所有模块结果
- ✅ 支持多种运行方式

---

## 📊 模块总览对比

### 按类别分类

| 类别 | 模块 | 运行时间 | 需要浏览器 | AI分析 |
|------|------|---------|-----------|--------|
| **News** | 全网热点发现 | 10-15分钟 | ✅ | ✅ |
| **News** | 微博情绪分析 | 5-10分钟 | ✅ | ✅ |
| **News** | 政客交易追踪 | 3-5分钟 | ⚠️ | ✅ |
| **股票推荐** | 黄金股票筛选 | 2-3分钟 | ❌ | ❌ |
| **股票推荐** | AI量化选股 | 5-8分钟 | ⚠️ | ✅ |
| **自动化** | 每日推送 | 25-40分钟 | ✅ | - |

### 按运行顺序

```
每日简报生成顺序:

08:00 ─► 1. 全网热点发现 (10-15分钟)
08:15 ─► 2. 微博情绪分析 (5-10分钟)
08:25 ─► 3. 政客交易追踪 (3-5分钟)
08:30 ─► 4. 黄金股票筛选 (2-3分钟)
08:33 ─► 5. AI量化选股 (5-8分钟)
08:41 ─► 6. 生成综合简报 (1分钟)
08:42 ─► 7. 发送邮件 (1分钟)
08:43 ─► ✅ 完成！
```

---

## 🎯 使用建议

### 新手入门
**推荐模块**: 黄金筛选 + AI选股 + 政客追踪
**运行方式**: GitHub Actions
**预计时间**: 10-15分钟/天

### 进阶使用
**推荐模块**: + 微博情绪
**运行方式**: 本地定时运行
**预计时间**: 15-25分钟/天

### 专业使用
**推荐模块**: 全部5个模块
**运行方式**: 本地完整版 + GitHub备份
**预计时间**: 25-40分钟/天

---

## 💰 成本说明

| 项目 | 成本 | 说明 |
|------|------|------|
| GitHub Actions | 免费 | 每月2000分钟，本项目约300分钟 |
| QQ邮箱 | 免费 | 使用授权码 |
| DeepSeek API | $5-10/月 | 推荐付费版 |
| Quiver API | $30-100/月 | 可选，政客追踪用 |

**总成本**: 
- 最低: 免费（使用DeepSeek免费额度）
- 推荐: $5-10/月
- 专业: $35-110/月

---

## 📚 快速命令

### 测试单个模块
```bash
python3 Discovery_Engine.py          # 全网热点发现
python3 weibo_sentiment_weighted.py  # 微博情绪分析
python3 politician_trade_tracker.py  # 政客交易追踪
python3 gold_stock_screener.py       # 黄金股票筛选
python3 Quant_Picker.py              # AI量化选股
```

### 运行完整分析
```bash
python3 run_with_politician_tracker.py  # 运行所有5个模块
python3 daily_email_sender.py           # 运行并发送邮件
```

### 部署到GitHub
```bash
./deploy_to_github.sh  # 一键部署
```

---

## 📖 相关文档

- [COMPLETE_MODULES_OVERVIEW.md](COMPLETE_MODULES_OVERVIEW.md) - 完整模块详细说明
- [MODULES_RELATIONSHIP.md](MODULES_RELATIONSHIP.md) - 模块关系图
- [START_HERE_GITHUB.md](START_HERE_GITHUB.md) - 快速开始指南
- [GITHUB_DEPLOYMENT_GUIDE.md](GITHUB_DEPLOYMENT_GUIDE.md) - GitHub部署指南

---

**按照News→股票推荐→自动化的顺序，系统为你提供全方位的投资分析服务！** 📊📈🎉

---

**最后更新**: 2026年1月15日
**版本**: v1.0.0
